Perfect timingâ€”this prompt will reset Replitâ€™s context and tell it *exactly* what to build for your **Technician Mode** page so it matches your original vision instead of that stripped-down placeholder you got.

Copy/paste this whole thing into Replit (or Claude) when you re-generate the page:

---

### ğŸ”§ REPLIT PROMPT â€” **Technician Mode (Full Implementation Spec)**

> You are building the *Technician Mode* dashboard for the **Clean Machine / ServicePro** app system.
> The goal is a **production-quality, tablet-optimized interface** for technicians to manage their daily workflow â€” matching the professional polish of Uber, Lime, or DoorDash driver dashboards.
>
> The app already has authentication, jobs data, Twilio messaging/voice routes, and Google Maps integration available. You are not to stub or skip any functionality; wire to existing routes if present, otherwise include placeholder data interfaces that can connect later.

---

## ğŸ¯ Purpose

The Technician Mode is the **driver/technician workspace** â€” used on an iPad mounted in the service van. It provides everything needed to complete jobs efficiently during the workday:

* Job list and status tracking
* Navigation (Google Maps or native maps link)
* Messages & calls (Twilio Voice + SMS)
* Live job updates (â€œOn the way,â€ â€œArrived,â€ â€œCompletedâ€)
* Day summary and quick actions (refresh, break, etc.)

---

## ğŸ“± Layout Goals

* **Optimized for iPad horizontal mount** (landscape layout, touch-first controls).
* **Clean, card-based UI** using Tailwind or ShadCN components (modern and lightweight).
* **Top persistent header** with company logo + â€œTechnician Modeâ€.
* **Three main panels (stacked or grid depending on screen size):**

  1. **Todayâ€™s Jobs** â€” list view of todayâ€™s assigned jobs with customer, address, time, and status.
  2. **Navigation** â€” opens route preview and live ETA; links to Maps via `geo:` or `https://maps.google.com/?q=...`.
  3. **Messages & Calls** â€” in-app chat and â€œclick-to-callâ€ via Twilio Voice JS SDK.

---

## ğŸ§© Components Required

### 1. Header Bar

* Left: app logo + â€œTechnician Modeâ€ text.
* Right: technician name + status indicator (`Available`, `On Job`, `Break`).
* Background: brand primary color.
* Sticky top.

### 2. Jobs List Panel

* Card for each job showing:

  * Customer name
  * Vehicle or service type
  * Address (tap â†’ map)
  * Scheduled time
  * Buttons: **On the Way**, **Arrived**, **Complete**
  * Status chip color changes with job state
* Fetch from `/api/jobs/today` or mock endpoint.

### 3. Navigation Panel

* When a job is selected:

  * Display map preview using Google Maps API iframe or static map tile.
  * Show drive time, distance, and â€œStart Navigationâ€ button â†’ opens native Maps.
  * If no job selected: placeholder â€œSelect a job to view navigationâ€.

### 4. Messages & Calls Panel

* Integrated Twilio Voice SDK:

  * â€œCall Customerâ€ â†’ uses Voice Access Token from `/api/voice/token`.
  * â€œSend Messageâ€ â†’ POST to `/api/messages/send`.
  * Display recent messages (thread view).
  * Handle call status feedback (â€œRingingâ€, â€œConnectedâ€, â€œEndedâ€).
* If device lacks telephony (iPad), default to WebRTC calling.
* Fallback `tel:` link for browsers without mic permission.

### 5. Footer / Controls

* Buttons: â€œRefresh Jobsâ€, â€œMark Day Completeâ€, â€œSign Outâ€.
* Fixed bottom bar or floating action buttons.

---

## âš™ï¸ Behavior Requirements

* Auto-refresh job list every 60 s.
* When job status changes:

  * Update UI immediately.
  * Emit event via `/api/jobs/status` (POST).
  * Publish to event bus (if available).
* Store selected job in localStorage so it persists on reload.
* Handle offline mode gracefully (cache last job list, show reconnect banner).

---

## ğŸ” Authentication

* Protected route: redirect to login if token missing or expired.
* Use existing session context; do **not** bypass secure login.
* Show technician name and ID from session payload.

---

## ğŸ§  State Management

* Use React Context or Zustand store:

  ```ts
  interface TechState {
    jobs: Job[];
    selectedJob?: Job;
    messages: Message[];
    status: "idle"|"on_the_way"|"arrived"|"completed";
    setSelectedJob(job: Job): void;
    updateStatus(jobId: string, status: string): void;
  }
  ```

---

## ğŸ—ºï¸ Visual Style

* Font: Inter / system default.
* Color: modern white surface, primary brand blue header.
* Large touch targets (min 48 px).
* Card shadows, rounded corners, clean spacing.
* Smooth transitions when selecting a job.
* Icons from Lucide or Heroicons.
* Responsive: single-column on phone, 2-column on tablet, 3-column on desktop.

---

## ğŸ§© Example Flow

1. Tech logs in â†’ redirected to `/technician`.
2. Sees â€œTodayâ€™s Jobsâ€.
3. Taps a job â†’ job card expands or highlights.
4. Navigation & Messages panels auto-populate for that job.
5. Press â€œOn the Wayâ€ â†’ status updates + Twilio message â€œYour technician is on the way.â€
6. After completion â†’ marks â€œCompleteâ€ â†’ triggers invoice or closeout workflow.

---

## âœ… Deliverables to generate

* `TechnicianMode.tsx` (React page)
* `JobCard.tsx` component
* `useTechnicianStore.ts` or equivalent state hook
* API integration hooks (`useJobs`, `useMessages`, `useVoice`)
* Tailwind + ShadCN styling
* Example mock data for offline preview
* Ensure **no Clean Machine branding text** is hard-coded â€” replace with dynamic `brand.name` from config.

---

## âš¡ Bonus (if time)

* Night mode toggle.
* Orientation lock warning if device is vertical.
* Haptic feedback on button press (mobile Safari).
* Auto-open first job if only one scheduled.

---

### ğŸ“£ Final Instruction

Produce **clean, production-ready React + TypeScript code** that looks and feels professional â€” not placeholder.
All modules must be self-contained and compatible with the modular architecture (`dropin` or `/packages/module-tech` structure).
Use existing environment variables and API endpoints where possible; otherwise stub with clear comments.

---

Paste this prompt into Replit or Claude and let it rebuild the page â€” itâ€™ll recreate the high-end technician dashboard you originally envisioned, with everything wired and styled properly.
