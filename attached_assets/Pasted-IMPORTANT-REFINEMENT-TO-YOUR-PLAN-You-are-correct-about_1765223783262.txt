IMPORTANT REFINEMENT TO YOUR PLAN:

You are correct about the problem and the direction of the fix:
- Root (Clean Machine) should use the legacy admin pages.
- Other tenants should continue to use the new /settings/... workspace pages.

However, DO NOT apply "update all links to old paths" globally.

Instead, do this:

1) TENANT SCOPING
- Use the existing tenant context (tenantId or hostname) to detect Clean Machine:
  - tenantId === 'root' OR hostname contains "cleanmachinetulsa.com".
- All routing overrides MUST be conditional on that check.
- For any tenant that is NOT root, keep the current /settings/... behavior exactly as-is.

2) NAVIGATION LINKS (navigationItems.ts)
- Do NOT hard-overwrite the paths for everyone.
- Introduce a helper function (or equivalent) that picks legacy vs new per tenant:

  ```ts
  import { getCurrentTenantId } from "@/utils/tenantContext"; // or your existing helper

  function cmOrDefault(cmPath: string, defaultPath: string): string {
    const tenantId = getCurrentTenantId();
    return tenantId === "root" ? cmPath : defaultPath;
  }
Then update ONLY the items where we know there is a legacy page:

Examples (adjust to actual paths you found):

ts
Copy code
{
  label: "Dashboard",
  path: cmOrDefault("/dashboard", "/settings/dashboard"),
  ...
},
{
  label: "Services",
  path: cmOrDefault("/admin/services", "/settings/operations/services"),
  ...
},
{
  label: "SMS Campaigns",
  path: cmOrDefault("/admin/sms-campaigns", "/settings/communications/sms"),
  ...
},
{
  label: "Email Templates",
  path: cmOrDefault("/admin/email-templates", "/settings/email"),
  ...
},
{
  label: "Rewards",
  path: cmOrDefault("/rewards", "/settings/loyalty"),
  ...
}
The key is: ROOT tenant gets the legacy /dashboard + /admin/... routes; everyone else stays on /settings/....

STOP “FIXING” PATHS FOR ROOT ONLY

Wherever you previously added auto-normalization or redirects (e.g. SettingsWorkspace, settings-admin wrapper, dashboard route), scope these changes:

ts
Copy code
const tenantId = getCurrentTenantId();

// If root, DO NOT rewrite URLs to /settings/...
if (tenantId === "root") return;
Only non-root tenants should be auto-redirected to normalized /settings/... paths.

VERIFICATION (REQUIRED)

Log in as the root / Clean Machine tenant and verify:

Dashboard, Services, SMS Campaigns, Email Templates, Rewards all land on the older rich pages with my existing content.

URLs do NOT flap anymore and do NOT auto-redirect back to the skinny workspace panels.

Also log in as a non-root test tenant and confirm:

They still use the new /settings/... workspace pages.

Their experience is unchanged.

DO NOT delete any workspace components or the new /settings/... routes.
We are only changing:

Which path nav points to for ROOT vs others.

Which tenants the normalization logic runs for.